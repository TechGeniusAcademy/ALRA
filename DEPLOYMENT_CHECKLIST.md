# ‚úÖ –ß–µ–∫–ª–∏—Å—Ç –¥–µ–ø–ª–æ—è ALRA Eco Village

## –ü–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º
- [ ] –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É (IP: 89.104.74.76)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω SSH –∫–ª–∏–µ–Ω—Ç (PuTTY –¥–ª—è Windows –∏–ª–∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π SSH)
- [ ] –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω SFTP –∫–ª–∏–µ–Ω—Ç (WinSCP –∏–ª–∏ FileZilla) –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–æ–≤

## –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ ‚úÖ
- [x] –°–æ–∑–¥–∞–Ω `.env.production` –¥–ª—è —Å–µ—Ä–≤–µ—Ä–∞
- [x] –°–æ–∑–¥–∞–Ω `.env.production` –¥–ª—è –∫–ª–∏–µ–Ω—Ç–∞
- [x] –°–æ–∑–¥–∞–Ω `ecosystem.config.js` –¥–ª—è PM2
- [x] –°–æ–∑–¥–∞–Ω `nginx.conf` –¥–ª—è Nginx
- [x] –°–æ–∑–¥–∞–Ω `setup-server.sh` —Å–∫—Ä–∏–ø—Ç
- [x] –°–æ–∑–¥–∞–Ω `deploy.sh` —Å–∫—Ä–∏–ø—Ç
- [x] –û–±–Ω–æ–≤–ª–µ–Ω CORS –≤ server.js

## –≠—Ç–∞–ø 2: –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
- [ ] –ü–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É —á–µ—Ä–µ–∑ SSH
- [ ] –ó–∞–≥—Ä—É–∑–∏–ª–∏ —Ñ–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (–≤ /root/alra)
- [ ] –§–∞–π–ª—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã

**–°–ø–æ—Å–æ–±—ã –∑–∞–≥—Ä—É–∑–∫–∏:**
- –í–∞—Ä–∏–∞–Ω—Ç A: WinSCP (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) - —Å–º. WINSCP_GUIDE.md
- –í–∞—Ä–∏–∞–Ω—Ç B: PowerShell —Å–∫—Ä–∏–ø—Ç - deploy-from-windows.ps1
- –í–∞—Ä–∏–∞–Ω—Ç C: Git clone (–µ—Å–ª–∏ –ø—Ä–æ–µ–∫—Ç –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏)

## –≠—Ç–∞–ø 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
- [ ] –ó–∞–ø—É—Å—Ç–∏–ª–∏ `./setup-server.sh`
- [ ] Node.js —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] MySQL —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] Nginx —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] PM2 —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
- [ ] Firewall –Ω–∞—Å—Ç—Ä–æ–µ–Ω

## –≠—Ç–∞–ø 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- [ ] –ü–æ–¥–∫–ª—é—á–∏–ª–∏—Å—å –∫ MySQL: `sudo mysql`
- [ ] –°–æ–∑–¥–∞–ª–∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö `alra_eco_village`
- [ ] –°–æ–∑–¥–∞–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `alra_user`
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä–æ–ª—å –¥–ª—è –ë–î
- [ ] –í—ã–¥–∞–ª–∏ –ø—Ä–∞–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é

```sql
CREATE DATABASE IF NOT EXISTS alra_eco_village;
CREATE USER IF NOT EXISTS 'alra_user'@'localhost' IDENTIFIED BY '–í–ê–®_–ü–ê–†–û–õ–¨';
GRANT ALL PRIVILEGES ON alra_eco_village.* TO 'alra_user'@'localhost';
FLUSH PRIVILEGES;
```

## –≠—Ç–∞–ø 5: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- [ ] –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–ª–∏ `server/.env.production`:
  - [ ] –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ DB_PASSWORD (—Ç–æ—Ç –∂–µ, —á—Ç–æ –≤ MySQL)
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ DB_USER = alra_user
  - [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ DB_NAME = alra_eco_village

- [ ] –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–ª–∏ `deploy.sh`:
  - [ ] –û–±–Ω–æ–≤–∏–ª–∏ DB_PASSWORD –Ω–∞ —Ç–æ—Ç –∂–µ –ø–∞—Ä–æ–ª—å

## –≠—Ç–∞–ø 6: –ü–µ—Ä–µ–º–µ—â–µ–Ω–∏–µ –≤ —Ä–∞–±–æ—á—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é
- [ ] –°–æ–∑–¥–∞–ª–∏ `/var/www/alra`
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–ª–∏ —Ñ–∞–π–ª—ã –≤ `/var/www/alra`
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –ø—Ä–∞–≤–∞ –Ω–∞ –ø–∞–ø–∫—É
- [ ] –°–æ–∑–¥–∞–ª–∏ –ø–∞–ø–∫—É –¥–ª—è –ª–æ–≥–æ–≤

```bash
sudo mkdir -p /var/www/alra
sudo cp -r /root/alra/* /var/www/alra/
sudo chown -R $USER:$USER /var/www/alra
mkdir -p /var/www/alra/logs
```

## –≠—Ç–∞–ø 7: –î–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- [ ] –ü–µ—Ä–µ—à–ª–∏ –≤ `/var/www/alra`
- [ ] –°–¥–µ–ª–∞–ª–∏ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º: `chmod +x deploy.sh`
- [ ] –ó–∞–ø—É—Å—Ç–∏–ª–∏ `./deploy.sh`
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
- [ ] –ö–ª–∏–µ–Ω—Ç —Å–æ–±—Ä–∞–Ω (build)
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –ë–î –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
- [ ] Nginx –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] PM2 –∑–∞–ø—É—Å—Ç–∏–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

## –≠—Ç–∞–ø 8: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã
- [ ] –û—Ç–∫—Ä—ã–ª–∏ http://89.104.74.76 –≤ –±—Ä–∞—É–∑–µ—Ä–µ
- [ ] –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–û –Ω–∞—Å"
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—É "–ù–æ–º–µ—Ä–∞"
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ —Ñ–æ—Ä–º—É –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª—å http://89.104.74.76/admin

## –≠—Ç–∞–ø 9: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] PM2 —Å—Ç–∞—Ç—É—Å: `pm2 status` - –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ running
- [ ] Nginx —Å—Ç–∞—Ç—É—Å: `sudo systemctl status nginx` - –∞–∫—Ç–∏–≤–µ–Ω
- [ ] MySQL —Å—Ç–∞—Ç—É—Å: `sudo systemctl status mysql` - –∞–∫—Ç–∏–≤–µ–Ω
- [ ] –õ–æ–≥–∏ –±–µ–∑ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫: `pm2 logs --lines 20`

## –≠—Ç–∞–ø 10: –§–∏–Ω–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ PM2: `pm2 startup` –∏ `pm2 save`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏–ª–∏ —Ñ–∞–π—Ä–≤–æ–ª: `sudo ufw status`
- [ ] –°–æ–∑–¥–∞–ª–∏ —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ë–î (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (HTTPS)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è
- [ ] –°–æ–∑–¥–∞–ª–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–≤–º–µ—Å—Ç–æ root)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- [ ] –ù–∞—Å—Ç—Ä–æ–∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

```bash
# –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pm2 status
pm2 logs

# –°—Ç–∞—Ç—É—Å Nginx
sudo systemctl status nginx

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Ä—Ç–æ–≤
sudo netstat -tulpn | grep :80
sudo netstat -tulpn | grep :5001

# –¢–µ—Å—Ç API
curl http://localhost:5001/
curl http://89.104.74.76/api

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
tail -f /var/www/alra/logs/out.log
tail -f /var/www/alra/logs/err.log
```

## –í —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
pm2 logs --lines 50
pm2 restart alra-backend
```

### –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª
cat /var/www/alra/server/.env

# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è MySQL
sudo mysql -e "SELECT user, host FROM mysql.user WHERE user='alra_user';"
```

### Nginx –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
```bash
sudo nginx -t
sudo systemctl restart nginx
sudo tail -f /var/log/nginx/error.log
```

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: DEPLOYMENT.md
- –ë—ã—Å—Ç—Ä–∞—è —Å–ø—Ä–∞–≤–∫–∞: QUICK_REFERENCE.md
- –ì–∏–¥ –ø–æ WinSCP: WINSCP_GUIDE.md

---

**–£–¥–∞—á–∏ —Å –¥–µ–ø–ª–æ–µ–º! üöÄ**
